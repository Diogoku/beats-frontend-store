(this["webpackJsonpamazon-frontend"]=this["webpackJsonpamazon-frontend"]||[]).push([[1],{111:function(e,t,a){},149:function(e,t,a){e.exports=a(224)},154:function(e,t,a){},160:function(e,t,a){},179:function(e,t,a){},181:function(e,t,a){},182:function(e,t,a){},183:function(e,t,a){},192:function(e,t,a){},215:function(e,t,a){},216:function(e,t,a){},217:function(e,t,a){},219:function(e,t,a){},220:function(e,t,a){},221:function(e,t,a){},222:function(e,t,a){},223:function(e,t,a){},224:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(7),l=a.n(c),o=(a(154),a(14)),s=a(15),i=a(9),u=a(86),m=Object(u.b)({name:"user",initialState:{user:localStorage.getItem("user")?JSON.parse(localStorage.getItem("user")):null,token:localStorage.getItem("token")?JSON.parse(localStorage.getItem("token")):null},reducers:{setUser:function(e,t){e.user=t.payload},setToken:function(e,t){e.token=t.payload},logout:function(e){e.user=null,e.token=null},setBasket:function(e,t){e.user.basketProducts=t.payload.basketProducts,localStorage.setItem("user",JSON.stringify(e.user))}}}),d=m.actions,p=d.setUser,E=d.setToken,g=d.logout,b=d.setBasket,f=function(e){return e.user.user},v=function(e){return e.user.token},h=m.reducer,y=a(10),_=a(278),k=a(264),O=a(259),N=a(226),w=a(263),j=a(114),P=a.n(j),S=a(76),C=a.n(S);var x=function(){var e=Object(n.useState)(!1),t=Object(y.a)(e,2),a=t[0],c=t[1],l=Object(i.b)(),s=Object(i.c)(f),u=Object(i.c)(v),m=function(){return function(e){("keydown"!==e.type||"Tab"!==e.key&&"Shift"!==e.key)&&c(!a)}},d=r.a.createElement("div",{role:"presentation"},r.a.createElement(O.a,null,u&&s?r.a.createElement(n.Fragment,null,r.a.createElement(N.a,{button:!0},r.a.createElement(o.c,{className:"navLink__menu",activeClassName:"activeRoute__menu",to:"/payments"},"Payments")),r.a.createElement(N.a,{button:!0},r.a.createElement(o.c,{className:"navLink__menu",to:"/",onClick:function(){return l(g()),localStorage.removeItem("token"),void localStorage.removeItem("user")}},"Logout"))):["signup","signin"].map((function(e,t){return r.a.createElement(N.a,{button:!0,key:e},r.a.createElement(o.c,{className:"navLink__menu",activeClassName:"activeRoute__menu",to:"/".concat(e)},e))}))));return r.a.createElement("div",{className:"headerDrawer"},r.a.createElement("span",{className:"header__username"},s.name),r.a.createElement(o.c,{activeClassName:"activeRoute__menu",to:"/basket"},r.a.createElement(w.a,{color:"secondary",badgeContent:s.basketProducts.reduce((function(e,t){return e+t.quantity}),0),max:99,showZero:!0},r.a.createElement(C.a,null))),r.a.createElement(k.a,{onClick:m()},r.a.createElement(P.a,null)),r.a.createElement(_.a,{anchor:"left",open:a,onClose:m()},d))};function q(){return{width:window.innerWidth}}var F=a(267),B=a(268),H=a(265),I=a(266),R=a(280),L=a(279),T=a(115),z=a.n(T);a(160);var A=function(){var e=Object(I.a)(),t=function(){var e=Object(n.useState)(q()),t=Object(y.a)(e,2),a=t[0],r=t[1];return Object(n.useEffect)((function(){function e(){r(q())}return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]),a}().width,a=Object(i.c)(v),c=Object(i.c)(f),l=Object(i.b)();return r.a.createElement("div",{className:"header"},r.a.createElement(H.a,{appear:!1,direction:"down",in:!e},r.a.createElement(F.a,null,r.a.createElement(B.a,null,r.a.createElement(o.c,{exact:!0,to:"/",className:"navLink",activeClassName:"activeRoute"},r.a.createElement(L.a,{src:"https://logodix.com/logo/75968.png",alt:"Beats By Dre logo"})),r.a.createElement("div",{className:"header__rightSide"},t>700?r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"header__search"},r.a.createElement(z.a,null),r.a.createElement(R.a,{placeholder:"Search\u2026",inputProps:{"aria-label":"search"}})),r.a.createElement("ul",{className:"header__userOptions"},c&&a?r.a.createElement(n.Fragment,null,r.a.createElement("span",{className:"header__username"},c.name),r.a.createElement(o.c,{to:"/basket",className:"navLink",activeClassName:"activeRoute"},r.a.createElement(w.a,{color:"secondary",badgeContent:c.basketProducts.reduce((function(e,t){return e+t.quantity}),0),max:99,showZero:!0},r.a.createElement(C.a,null))),r.a.createElement(o.c,{className:"navLink",to:"/payments",activeClassName:"activeRoute"},"Payments"),r.a.createElement(o.c,{className:"navLink",to:"/",onClick:function(){return l(g()),localStorage.removeItem("token"),void localStorage.removeItem("user")}},"Logout")):r.a.createElement(n.Fragment,null," ",r.a.createElement(o.c,{className:"navLink",to:"/signup",activeClassName:"activeRoute"},"SignUp"),r.a.createElement(o.c,{className:"navLink",to:"/signin",activeClassName:"activeRoute"},"Signin")))):r.a.createElement(x,null))))))};function M(){var e=Object(s.i)().pathname;return Object(n.useEffect)((function(){window.scrollTo(0,0)}),[e]),null}var D=a(12),W=a.n(D),J=a(27),U={in:{opacity:1,x:0},out:{opacity:0,x:"-100vw"}},Q=a(20),Z=a(116),V=a.n(Z).a.create({baseURL:"https://beats-backend-store.herokuapp.com/api"}),G=(a(179),a(63)),X=a(117),$=a.n(X),K=(a(180),a(281)),Y=a(270),ee=a(271),te=a(276),ae=a(59);a(181);var ne=Object(G.trackWindowScroll)((function(e){var t=e.category,a=e.scrollPosition,c=Object(i.b)(),l=Object(s.h)(),o=Object(i.c)(f),u=Object(i.c)(v),m=Object(n.useState)(1),d=Object(y.a)(m,2),p=d[0],E=d[1],g=Object(ae.b)().enqueueSnackbar,h={headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(u)}};return Object(n.useEffect)((function(){$.a.init({duration:800})}),[]),r.a.createElement("div",{className:"categorySection"},r.a.createElement("h2",{className:"categorySection__title"},t.promoText),t.products.map((function(e,t){return r.a.createElement("div",{key:t,"data-aos":"fade-up",className:"productContent"},r.a.createElement("div",{className:"productContent__left"},r.a.createElement("h3",{className:"product__title"},r.a.createElement("span",{className:"product__name"},e.name)),r.a.createElement("div",{className:"product__promoWrapper"},r.a.createElement("p",{className:"product__promo"},e.promoText)),r.a.createElement("div",{className:"product__colors "},e.colors.map((function(e){return r.a.createElement("div",{key:e,className:"product__color ".concat(e)})}))),r.a.createElement("ul",{className:"product__characteristics"},e.description.map((function(e,t){return r.a.createElement("li",{key:t,className:"product__characteristic"},e)}))),r.a.createElement("p",{className:"product__paragraphPrice"},r.a.createElement("span",{className:"product__spanPrice"},"$",e.price)),r.a.createElement("div",{className:"product__addToBasket"},e.stock>0?r.a.createElement("button",{className:"product__buy product__inStock",onClick:function(){return t=e._id,void(o&&u?V.post("".concat(o._id,"/add/").concat(t),{quantity:p},h).then((function(e){var t=e.data;c(b(t)),g("Product added to basket",{variant:"success",autoHideDuration:3e3})})).catch((function(e){g("Product not added to basket",{variant:"error",autoHideDuration:3e3}),console.log(e)})):l.push("/signin"));var t}},"Add to Basket"):r.a.createElement("button",{className:"product__buy",disabled:!0},"Out of Stock"),r.a.createElement(ee.a,null,r.a.createElement(K.a,{id:"demo-simple-select-label"},"Quantity"),r.a.createElement(te.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",defaultValue:p,onChange:function(e){return E(e.target.value)}},function(){for(var e=[],t=1;t<=100;t++)e.push(r.a.createElement(Y.a,{value:t,key:t},t));return e}())))),r.a.createElement("div",{className:"productConten__right"},r.a.createElement(G.LazyLoadImage,{alt:"beats flex",effect:"blur",scrollPosition:a,src:e.image,className:"product__image"})))})),r.a.createElement("div",{className:"separate__categories"}))})),re=Object(n.lazy)((function(){return a.e(0).then(a.bind(null,289))}));var ce=function(){var e=Object(n.useState)([]),t=Object(y.a)(e,2),a=t[0],c=t[1];return Object(n.useEffect)((function(){(function(){var e=Object(J.a)(W.a.mark((function e(){return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:V.get("/categories/",{headers:{"Content-Type":"application/json"}}).then((function(e){var t=e.data;c(t.categories)})).catch((function(e){return console.log(e)}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),r.a.createElement(Q.b.div,{initial:"out",animate:"in",exit:"out",variants:U,transition:{ease:"easeOut",duration:.2}},r.a.createElement("div",{className:"homePage"},a.map((function(e,t){return r.a.createElement(ne,{key:t,category:e})}))),r.a.createElement(n.Suspense,{fallback:r.a.createElement("div",null,"Loading...")},r.a.createElement(re,null)))},le=a(67),oe=a(82),se=a(46),ie=se.a().shape({name:se.b().required("Name is a required field").max(32,"Name must be at most 32 characters"),email:se.b().required("Email is a required field").email("Email must be a valid email").matches(/.+\@.+\..+/,"Email must contain @").min(4,"Email must be at least 4 characters long").max(32,"Email must be at most 32 characters"),password:se.b().required("Password is a required field").min(8,"Password must be at least 8 characters long").matches(/(?=.*?[a-z])/,"Password must contain at least a lowercase letter").matches(/(?=.*?[A-Z])/,"Password must contain at least a uppercase letter").matches(/(?=.*?[0-9])/,"Password must contain at least one digit")}),ue=se.a().shape({email:se.b().required("Email is a required field").email("Email must be a valid email").matches(/.+\@.+\..+/,"Email must contain @").min(4,"Email must be at least 4 characters long").max(32,"Email must be at most 32 characters"),password:se.b().required("Password is a required field").min(8,"Password must be at least 8 characters long").matches(/(?=.*?[a-z])/,"Password must contain at least a lowercase letter").matches(/(?=.*?[A-Z])/,"Password must contain at least a uppercase letter").matches(/(?=.*?[0-9])/,"Password must contain at least one digit")}),me=a(121),de=a.n(me);a(182);var pe=function(e){var t=e.text;return r.a.createElement("div",{className:"errorMesage"},r.a.createElement(de.a,null),r.a.createElement("p",null,t))},Ee=a(122),ge=a.n(Ee);a(183);var be=function(e){var t=e.text;return r.a.createElement("div",{className:"successMessage"},r.a.createElement(ge.a,null),r.a.createElement("p",null,t))},fe=a(272),ve=a(273),he=a(282),ye=a(283),_e=a(274),ke=a(83),Oe=a.n(ke),Ne=a(84),we=a.n(Ne);a(111);var je=function(){var e=Object(n.useState)(!1),t=Object(y.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(!1),o=Object(y.a)(l,2),i=o[0],u=o[1],m=Object(n.useState)(null),d=Object(y.a)(m,2),p=d[0],E=d[1],g=Object(n.useState)(null),b=Object(y.a)(g,2),f=b[0],v=b[1],h=Object(le.useForm)({resolver:Object(oe.yupResolver)(ie)}),_=h.register,O=h.handleSubmit,N=h.errors;return r.a.createElement(Q.b.div,{initial:"out",animate:"in",exit:"out",variants:U,transition:{ease:"easeOut",duration:.2},className:"Page"},r.a.createElement(s.a,{when:a,message:function(e){return"Are you sure you want to go to ".concat(e.pathname)}}),r.a.createElement(fe.a,null,r.a.createElement("img",{src:"https://1920x1080hdwallpapers.com/image/201612/brands/7330/monster-beats-red-black.jpg",alt:"Beats by Dr. Dre Logo",className:"form__image"}),r.a.createElement(ve.a,null,r.a.createElement("h2",{className:"form__title"},"Sign Up"),r.a.createElement("form",{className:"form",onSubmit:O((function(e){V.post("/signup",e).then((function(e){v("Registration was Successful"),E(null)})).catch((function(e){console.log(e.response),e.response?(E(e.response.data.err.split(":")[2]),v(null)):e.request?console.log(e.request):console.log("Error",e.message),console.log(e.config)}))}))},r.a.createElement(ee.a,{variant:"outlined"},r.a.createElement(K.a,{htmlFor:"outlined-adornment-password"},"Name"),r.a.createElement(he.a,{id:"outlined-adornment-password",type:"text",labelWidth:70,inputRef:_,name:"name",onChange:function(e){c(e.target.value.length>0)}}),N.name?r.a.createElement(pe,{text:N.name.message}):null),r.a.createElement(ee.a,{variant:"outlined"},r.a.createElement(K.a,{htmlFor:"outlined-adornment-password"},"Email"),r.a.createElement(he.a,{id:"outlined-adornment-password",type:"text",labelWidth:70,inputRef:_,name:"email",onChange:function(e){c(e.target.value.length>0)}}),N.email?r.a.createElement(pe,{text:N.email.message}):null),r.a.createElement(ee.a,{variant:"outlined"},r.a.createElement(K.a,{htmlFor:"outlined-adornment-password"},"Password"),r.a.createElement(he.a,{id:"outlined-adornment-password",type:i?"text":"password",inputRef:_,name:"password",onChange:function(e){c(e.target.value.length>0)},endAdornment:r.a.createElement(ye.a,{position:"end"},r.a.createElement(_e.a,{"aria-label":"toggle password visibility",onClick:function(){u(!i)},edge:"end"},i?r.a.createElement(Oe.a,null):r.a.createElement(we.a,null))),labelWidth:70}),N.password?r.a.createElement(pe,{text:N.password.message}):null),r.a.createElement(k.a,{variant:"contained",color:"primary",type:"submit"},"Sign Up"),f?r.a.createElement(be,{text:f}):null,p?r.a.createElement(pe,{text:p}):null))))};var Pe=function(){var e=Object(s.h)(),t=Object(i.b)(),a=Object(n.useState)(!1),c=Object(y.a)(a,2),l=c[0],o=c[1],u=Object(n.useState)(!1),m=Object(y.a)(u,2),d=m[0],g=m[1],b=Object(n.useState)(null),f=Object(y.a)(b,2),v=f[0],h=f[1],_=Object(le.useForm)({resolver:Object(oe.yupResolver)(ue)}),O=_.register,N=_.handleSubmit,w=_.errors;return r.a.createElement(Q.b.div,{initial:"out",animate:"in",exit:"out",variants:U,transition:{ease:"easeOut",duration:.2},className:"Page"},r.a.createElement(s.a,{when:l,message:function(e){return"Are you sure you want to go to ".concat(e.pathname)}}),r.a.createElement(fe.a,{elevation:3},r.a.createElement("img",{src:"https://1920x1080hdwallpapers.com/image/201612/brands/7330/monster-beats-red-black.jpg",alt:"Beats by Dr. Dre Logo",className:"form__image"}),r.a.createElement(ve.a,null,r.a.createElement("h2",{className:"form__title"},"Sign In"),r.a.createElement("form",{className:"form",onSubmit:N((function(a){o(!1),V.post("/signin",a).then((function(a){var n=a.data;localStorage.setItem("user",JSON.stringify(n.user)),localStorage.setItem("token",JSON.stringify(n.token)),t(p(n.user)),t(E(n.token)),e.push("/"),h(null)})).catch((function(e){e.response?h(e.response.data.err):e.request?console.log(e.request):console.log("Error",e.message),console.log(e.config)}))}))},r.a.createElement(ee.a,{variant:"outlined"},r.a.createElement(K.a,{htmlFor:"outlined-adornment-password"},"Email"),r.a.createElement(he.a,{id:"outlined-adornment-password",type:"text",labelWidth:70,inputRef:O,name:"email",onChange:function(e){o(e.target.value.length>0)}}),w.email?r.a.createElement(pe,{text:w.email.message}):null),r.a.createElement(ee.a,{variant:"outlined"},r.a.createElement(K.a,{htmlFor:"outlined-adornment-password"},"Password"),r.a.createElement(he.a,{id:"outlined-adornment-password",type:d?"text":"password",inputRef:O,name:"password",onChange:function(e){o(e.target.value.length>0)},endAdornment:r.a.createElement(ye.a,{position:"end"},r.a.createElement(_e.a,{"aria-label":"toggle password visibility",onClick:function(){g(!d)},edge:"end"},d?r.a.createElement(Oe.a,null):r.a.createElement(we.a,null))),labelWidth:70}),w.password?r.a.createElement(pe,{text:w.password.message}):null),r.a.createElement(k.a,{variant:"contained",color:"primary",type:"submit"},"Sign In"),v?r.a.createElement(pe,{text:v}):null))))},Se=a(123),Ce=a.n(Se),xe=(a(192),a(124)),qe=a(87),Fe=a(125),Be=a.n(Fe);a(215);var He=function(e){var t=e.productId,a=e.quantity,c=Object(i.b)(),l=Object(i.c)(f),o=Object(i.c)(v),s=Object(n.useState)({description:[]}),u=Object(y.a)(s,2),m=u[0],d=u[1],p=Object(n.useState)(1),E=Object(y.a)(p,2),g=E[0],h=E[1],_=Object(ae.b)().enqueueSnackbar,O={headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(o)}};return Object(n.useEffect)((function(){(function(){var e=Object(J.a)(W.a.mark((function e(){return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:V.get("/products/".concat(t)).then((function(e){var t=e.data;d(t)})).catch((function(e){return console.log(e)}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()(m)}),[t]),r.a.createElement("div",{className:"productCard"},m.image?r.a.createElement(qe.MagnifierContainer,{className:"productCard__magnifierContainer"},r.a.createElement("div",{className:"productCard__image"},r.a.createElement(qe.MagnifierPreview,{imageSrc:m.image})),r.a.createElement(qe.MagnifierZoom,{className:"productCard__magnifierZoom",imageSrc:m.image})):null,r.a.createElement("div",{className:"productCard__details"},r.a.createElement("h2",{className:"productCard__name"},m.name),r.a.createElement("ul",{className:"productCard__description"},m.description.map((function(e,t){return r.a.createElement("li",{key:t},e)}))),r.a.createElement("span",null,"Quantity: ",a),r.a.createElement("span",null,"Price: ",m.price),r.a.createElement("div",{className:"productCard__removeQuantity"},r.a.createElement(ee.a,null,r.a.createElement(K.a,{id:"demo-simple-select-label"},"Remove Quantity"),r.a.createElement(te.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",defaultValue:g,onChange:function(e){return h(e.target.value)}},function(){for(var e=[],t=1;t<=a;t++)e.push(r.a.createElement(Y.a,{value:t,key:t},t));return e}())),r.a.createElement(k.a,{onClick:function(){return e=m.name,void V.post("/".concat(l._id,"/remove/").concat(t),{quantity:g},O).then((function(t){var a=t.data;c(b(a)),_("Removed ".concat(g," ").concat(e," from basket"),{variant:"success",autoHideDuration:3e3})})).catch((function(e){_("Product not added to basket",{variant:"error",autoHideDuration:3e3}),console.log(e)}));var e},className:"productCard__removeButton"},r.a.createElement(Be.a,null)))))},Ie=Object(n.lazy)((function(){return a.e(0).then(a.bind(null,289))})),Re=Object(xe.a)("pk_test_51HhFadH5m52Qe7pkXIQ7MzahMZ2dIBEHwCkqSBikeNbf5a1qUdP92pObBUiXDOoySmXydAzd6lP9qKCOj9APBqRx00kIBaq71u");var Le=Object(G.trackWindowScroll)((function(){var e=Object(n.useState)(null),t=Object(y.a)(e,2),a=t[0],c=t[1],l=Object(i.c)(f),o=Object(i.c)(v),s=l.basketProducts.reduce((function(e,t){return e+t.price*t.quantity}),0),u=l.basketProducts.reduce((function(e,t){return e+t.quantity}),0),m={headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(o)}},d=function(){var e=Object(J.a)(W.a.mark((function e(t){var a,n,r,o,s;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Re;case 2:return a=e.sent,e.next=5,V.post("/payments/".concat(l._id,"/create-checkout-session"),{line_items:l.basketProducts},m);case 5:return n=e.sent,e.next=8,n;case 8:return r=e.sent,o=r.data,e.next=12,a.redirectToCheckout({sessionId:o.id});case 12:(s=e.sent).error&&c(s.error.message);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(Q.b.div,{initial:"out",animate:"in",exit:"out",variants:U,transition:{ease:"easeOut",duration:.2},className:"basketPage"},r.a.createElement("div",{className:"basketPage__products"},l.basketProducts.map((function(e,t){return r.a.createElement(G.LazyLoadComponent,{key:t+"new"},r.a.createElement(He,{productId:e.id,quantity:e.quantity,key:t}))}))),a?r.a.createElement("p",null,a):null,l.basketProducts.length>0?r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"basketPage__total"},r.a.createElement("span",null,"Total ( ",u," items ): ",Ce()(s,2))),r.a.createElement(k.a,{className:"basketPage__checkoutButton",role:"link",variant:"contained",onClick:d},"Checkout")):r.a.createElement("div",{className:"basketPage__total"},r.a.createElement("span",null,"At the moment, there are no products in the basket.")),r.a.createElement(n.Suspense,{fallback:r.a.createElement("div",null,"Loading...")},r.a.createElement(Ie,null)))})),Te=a(85),ze=a.n(Te);a(216);var Ae=function(){var e=Object(s.h)(),t=Object(i.b)(),a=Object(i.c)(f),c=Object(i.c)(v),l={headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(c)}};return Object(n.useEffect)((function(){V.post("/payments/".concat(a._id,"/successful-payment"),null,l).then((function(e){var a=e.data;t(p(a)),localStorage.setItem("user",JSON.stringify(a))}))}),[t,l,a._id]),r.a.createElement(Q.b.div,{initial:"out",animate:"in",exit:"out",variants:U,transition:{ease:"easeOut",duration:.2},className:"paymentSuccessfulPage"},r.a.createElement(ze.a,null),r.a.createElement("h1",null,"Thank you!",r.a.createElement("br",null)," Your Payment was successful."),r.a.createElement(k.a,{variant:"contained",className:"paymentSuccessfulPage__pageOption",onClick:function(){return e.push("/")}},"Back to Home Page"))},Me=a(126),De=a.n(Me);a(217);var We=function(){var e=Object(s.h)();return r.a.createElement(Q.b.div,{initial:"out",animate:"in",exit:"out",variants:U,transition:{ease:"easeOut",duration:.2},className:"paymentFailPage"},r.a.createElement(De.a,null),r.a.createElement("h1",null,"Oh no, payment failed."),r.a.createElement("h4",null,"Please ensure that the debit/credit card you provided is correct.",r.a.createElement("br",null),"Alternatively, please try a different payment method ."),r.a.createElement("div",{className:"paymentFailPage__pageOptions"},r.a.createElement(k.a,{variant:"contained",className:"paymentFailPage__pageOption",onClick:function(){return e.push("/")}},"Back to Home Page"),r.a.createElement(k.a,{variant:"contained",className:"paymentFailPage__pageOption",onClick:function(){return e.push("/basket")}},"Basket Page")))},Je=a(64),Ue=function(e){var t=e.column,a=t.filterValue,n=t.setFilter;t.preFilteredRows.length;return r.a.createElement("span",null,"Search"," ",r.a.createElement("input",{value:a||"",onChange:function(e){n(e.target.value||void 0)}}))},Qe=a(128),Ze=a.n(Qe),Ve=a(127),Ge=a.n(Ve),Xe=[{Header:function(){return null},id:"expander",Cell:function(e){var t=e.row;return r.a.createElement("span",t.getToggleRowExpandedProps(),t.isExpanded?r.a.createElement(Ge.a,null):r.a.createElement(Ze.a,null))}},{Header:"Payment_id",accessor:"col1",disableFilters:!0},{Header:"Date",accessor:"col2",disableFilters:!0},{Header:"Loader",accessor:"col3",Filter:Ue},{Header:"Amount",accessor:"col4",Filter:function(e){var t=e.column,a=t.filterValue,n=void 0===a?[]:a,c=t.preFilteredRows,l=t.setFilter,o=t.id,s=r.a.useMemo((function(){var e=c.length?c[0].values[o]:0,t=c.length?c[0].values[o]:0;return c.forEach((function(a){e=Math.min(a.values[o],e),t=Math.max(a.values[o],t)})),[e,t]}),[o,c]),i=Object(y.a)(s,2),u=i[0],m=i[1];return r.a.createElement("div",null,r.a.createElement("input",{value:n[0]||"",type:"number",onChange:function(e){var t=e.target.value;l((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return[t?parseInt(t,10):void 0,e[1]]}))},placeholder:"Min (".concat(u,")")}),"to",r.a.createElement("input",{value:n[1]||"",type:"number",onChange:function(e){var t=e.target.value;l((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return[e[0],t?parseInt(t,10):void 0]}))},placeholder:"Max (".concat(m,")")}))},filter:"between"}];a(219);var $e=function(e){var t=e.row.original.col5;return r.a.createElement("table",{className:"rowExpand__table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Product"),r.a.createElement("th",null,"Quantity"),r.a.createElement("th",null,"Price"))),r.a.createElement("tbody",null,t.map((function(e,t){return r.a.createElement("tr",{key:e._id},r.a.createElement("td",null,e.name),r.a.createElement("td",null,e.quantity),r.a.createElement("td",null,e.price))}))))},Ke=a(130),Ye=a.n(Ke),et=a(129),tt=a.n(et);a(220);var at=function(){var e=Object(i.c)(f),t=Object(n.useMemo)((function(){return e.buyHistory.map((function(e){return{col1:e._id,col2:e.date,col3:"card",col4:e.products.reduce((function(e,t){return e+t.price*t.quantity}),0),col5:e.products}}))}),[e.buyHistory]),a=Object(n.useMemo)((function(){return Xe}),[]),c=Object(Je.useTable)({columns:a,data:t,defaultColumn:{Filter:Ue}},Je.useFilters,Je.useSortBy,Je.useExpanded,Je.usePagination),l=c.getTableProps,o=c.getTableBodyProps,s=c.headerGroups,u=c.page,m=c.nextPage,d=c.previousPage,p=c.canNextPage,E=c.canPreviousPage,g=c.pageOptions,b=c.state,v=c.gotoPage,h=c.pageCount,y=c.prepareRow,_=c.visibleColumns,O=b.pageIndex;return r.a.createElement(Q.b.div,{initial:"out",animate:"in",exit:"out",variants:U,transition:{ease:"easeOut",duration:.2},className:"purhchaseHistoryPage"},r.a.createElement("h1",{className:"purhchaseHistoryPage__title"},"Payments History"),r.a.createElement("p",null,r.a.createElement("strong",null,"Note: "),"The table below lists the payments that were made by you on this site.",r.a.createElement("br",null),"Clicking on the expand row will display information about the products (name and quantity) purchased."),r.a.createElement("div",{className:"purhchaseHistoryPage__tableWrapper"},r.a.createElement("table",Object.assign({},l(),{className:"purhchaseHistoryPage__table"}),r.a.createElement("thead",null,s.map((function(e){return r.a.createElement("tr",e.getHeaderGroupProps(),e.headers.map((function(e){return r.a.createElement("th",e.getHeaderProps(e.getSortByToggleProps()),e.render("Header"),e.isSorted?e.isSortedDesc?r.a.createElement(tt.a,null):r.a.createElement(Ye.a,null):null,r.a.createElement("div",null,e.canFilter?e.render("Filter"):null))})))}))),r.a.createElement("tbody",o(),u.map((function(e,t){return y(e),r.a.createElement(n.Fragment,{key:e.getRowProps().key},r.a.createElement("tr",{className:"purhchaseHistoryPage__tableMainRows"},e.cells.map((function(e){return r.a.createElement("td",e.getCellProps(),e.render("Cell"))}))),e.isExpanded&&r.a.createElement("tr",null,r.a.createElement("td",{colSpan:_.length},r.a.createElement($e,{row:e}))))}))))),r.a.createElement("div",{className:"purhchaseHistoryPage__tableNavigation"},r.a.createElement("span",null,"Page:"," ",r.a.createElement("strong",null,O+1," of ",g.length," ")," "),r.a.createElement("span",null,"| Go to page:"," ",r.a.createElement("input",{type:"number",defaultValue:O+1,onChange:function(e){var t=e.target.value?e.target.value-1:0;v(t)}})),r.a.createElement("div",{className:"purhchaseHistoryPage__tableNavigationOptions"},r.a.createElement(k.a,{size:"small",variant:"contained",onClick:function(){return v(0)},disabled:!E},"<<"),r.a.createElement(k.a,{size:"small",variant:"contained",onClick:function(){return d()},disabled:!E},"Previous"),r.a.createElement(k.a,{size:"small",variant:"contained",onClick:function(){return m()},disabled:!p},"Next"),r.a.createElement(k.a,{size:"small",variant:"contained",onClick:function(){return v(h-1)},disabled:!p},">>"))))};a(221);var nt=function(){return r.a.createElement(Q.b.div,{initial:"out",animate:"in",exit:"out",variants:U,transition:{ease:"easeOut",duration:.2},className:"noMatchPage"},r.a.createElement("h1",{className:"noMatchPage__HTTPErrorCode"},"404"),r.a.createElement("h3",null,"Sorry, we couldn't find this page. But don't worry, you can find ",r.a.createElement("br",null)," ","plenty of other things on our"," ",r.a.createElement(o.b,{to:"/",className:"noMatchPage__LinkHomePage"},"homepage")))},rt=a(132),ct=function(e){var t=e.component,a=Object(rt.a)(e,["component"]),n=Object(i.c)(f),c=Object(i.c)(v);return r.a.createElement(s.c,Object.assign({},a,{render:function(e){return n&&c?r.a.createElement(t,e):r.a.createElement(s.b,{to:{pathname:"/signin"}})}}))};a(222);var lt=function(e){var t=e.children;return r.a.createElement("div",{className:"pagesLayout"},t)},ot=a(131),st=a.n(ot);a(223);var it=function(){return r.a.createElement(ae.a,{maxSnack:3,anchorOrigin:{vertical:"bottom",horizontal:"right"},iconVariant:{success:r.a.createElement(ze.a,null),error:r.a.createElement(st.a,null)},color:"white",dense:!0},r.a.createElement(o.a,{basename:"/"},r.a.createElement(M,null),r.a.createElement("div",{className:"App"},r.a.createElement(A,null),r.a.createElement(lt,null,r.a.createElement(Q.a,{exitBeforeEnter:!0},r.a.createElement(s.e,null,r.a.createElement(s.c,{path:"/signin"},r.a.createElement(Pe,null)),r.a.createElement(s.c,{path:"/signup"},r.a.createElement(je,null)),r.a.createElement(ct,{path:"/basket",component:Le}),r.a.createElement(ct,{path:"/payment/successful",component:Ae}),r.a.createElement(ct,{path:"/payment/fail",component:We}),r.a.createElement(ct,{path:"/payments",component:at}),r.a.createElement(s.c,{exact:!0,path:"/"},r.a.createElement(ce,null)),r.a.createElement(s.c,{path:"*"},r.a.createElement(nt,null))))))))},ut=Object(u.a)({reducer:{user:h}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(i.a,{store:ut},r.a.createElement(it,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[149,2,3]]]);
//# sourceMappingURL=main.0b641b40.chunk.js.map